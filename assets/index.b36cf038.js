var S=Object.defineProperty;var y=(r,e,t)=>e in r?S(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var l=(r,e,t)=>(y(r,typeof e!="symbol"?e+"":e,t),t);import{d as p,c as d,a as c,n as m,F as x,r as z,p as C,b as O,o as h,t as $,e as E,f as L,g as I,h as k,i as F,j as R}from"./vendor.5e557c8f.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};T();class D{constructor(e){l(this,"dom");l(this,"setSize");l(this,"showSize");l(this,"ctx");l(this,"drawIng",!1);l(this,"timeOut");l(this,"x");l(this,"y");l(this,"w",{writing_guide:{writing_area_width:0,writing_area_height:0},ink:[],language:"zh_TW"});var t;this.setSize=(e==null?void 0:e.querySelector(".setPenSize .penSize"))||null,this.showSize=(e==null?void 0:e.querySelector(".setPenSize .showSize"))||null,this.dom=(e==null?void 0:e.querySelector("canvas.writeFont"))||null,this.ctx=(t=this.dom)==null?void 0:t.getContext("2d"),this.dom&&this.init()}init(){this.ctx&&(this.ctx.lineWidth=5),this.addEvent()}createRect(e,t,i=!0){var s,o,n,a,u,f;i?((s=this.ctx)==null||s.lineTo(e,t),(o=this.ctx)==null||o.stroke()):((n=this.ctx)==null||n.beginPath(),(a=this.ctx)==null||a.moveTo(e,t)),(u=this.x)==null||u.push(e),(f=this.y)==null||f.push(t)}addEvent(){this.dom&&this.setSize&&this.showSize&&(this.showSize.innerText=this.setSize.value,this.dom.addEventListener("mousedown",e=>{var t,i;if(e.preventDefault(),clearTimeout(this.timeOut),this.x=this.y=[],this.ctx){this.ctx.lineWidth=parseInt(((t=this.setSize)==null?void 0:t.value)||"3"),this.drawIng=!0;let s=(i=this.dom)==null?void 0:i.getBoundingClientRect();this.createRect(e.clientX-((s==null?void 0:s.left)||0),e.clientY-((s==null?void 0:s.top)||0),!1)}},!1),this.dom.addEventListener("touchstart",e=>{var i,s,o,n;if(e.preventDefault(),clearTimeout(this.timeOut),this.x=this.y=[],this.ctx){this.ctx.lineWidth=parseInt(((i=this.setSize)==null?void 0:i.value)||"3"),this.drawIng=!0;var t=e.targetTouches[0];let a=((s=this.dom)==null?void 0:s.getBoundingClientRect())||{left:0,top:0},u=((n=(o=this.dom)==null?void 0:o.ownerDocument)==null?void 0:n.defaultView)||{pageXOffset:0,pageYOffset:0};this.createRect(t.pageX-(a.left+u.pageXOffset),t.pageY-(a.top+u.pageYOffset),!1)}}),this.dom.addEventListener("mousemove",e=>{var t;if(this.drawIng){e.preventDefault();let i=(t=this.dom)==null?void 0:t.getBoundingClientRect();this.createRect(e.clientX-((i==null?void 0:i.left)||0),e.clientY-((i==null?void 0:i.top)||0),!0)}},!1),this.dom.addEventListener("touchmove",e=>{var t,i,s;if(this.drawIng){e.preventDefault();let o=e.targetTouches[0],n=((t=this.dom)==null?void 0:t.getBoundingClientRect())||{left:0,top:0},a=((s=(i=this.dom)==null?void 0:i.ownerDocument)==null?void 0:s.defaultView)||{pageXOffset:0,pageYOffset:0};this.createRect(o.pageX-(n.left+a.pageXOffset),o.pageY-(n.top+a.pageYOffset),!0)}}),"mouseup,mouseout,touchend".replaceAll(" ","").split(",").forEach(e=>{var t;return(t=this.dom)==null?void 0:t.addEventListener(e,this.stopWriting.bind(this),!1)}),"mousedown,mousemove,mouseup,change,touchend,touchmove,touchstart".replaceAll(" ","").split(",").forEach(e=>{var t;return(t=this.setSize)==null?void 0:t.addEventListener(e,this.setSizeValue.bind(this),!1)}))}stopWriting(){this.drawIng&&(this.drawIng=!1,clearTimeout(this.timeOut),this.w.ink=[this.x||[],this.y||[],[]],this.timeOut=window.setTimeout(()=>{var e,t,i;(i=this.ctx)==null||i.clearRect(0,0,((e=this.dom)==null?void 0:e.width)||0,((t=this.dom)==null?void 0:t.height)||0)},2e3))}setSizeValue(){this.showSize&&this.setSize&&(this.showSize.innerText=this.setSize.value)}}var g=(r,e)=>{for(const[t,i]of e)r[t]=i;return r};const W=p({name:"addFont",data(){return{configs:[{open:!0,info:""}],showConfigs:!1}},mounted(){new D(document.querySelector(".wroteFontDiv"))}}),v=r=>(C("data-v-d82c54fe"),r=r(),O(),r),P={class:"wroteFontDiv flex flex-down flex-item-center"},b={class:"tools flex flex-item-center flex-center"},A=v(()=>c("div",{class:"setPenSize flex"},[c("p",{class:"showSize"}),c("input",{type:"range",class:"penSize",min:"2",max:"30",value:"3"})],-1)),B=["onClick","textContent"],X=v(()=>c("canvas",{class:"writeFont"},null,-1));function Y(r,e,t,i,s,o){return h(),d("div",P,[c("div",b,[A,c("div",{class:"configs",onMouseout:e[1]||(e[1]=n=>r.showConfigs=!1)},[c("h1",{onClick:e[0]||(e[0]=n=>r.showConfigs=!r.showConfigs)},"\u8A2D\u5B9A"),c("div",{class:m(["options",{showList:r.showConfigs}])},[(h(!0),d(x,null,z(r.configs,n=>(h(),d("div",{key:n,class:m({open:n.open}),onClick:a=>n.open=!n.open,textContent:$((n.open?"\u95DC\u9589":"\u958B\u555F")+n.info)},null,10,B))),128))],2)],32)]),X])}var q=g(W,[["render",Y],["__scopeId","data-v-d82c54fe"]]);const V=p({name:"HelloWorld",data(){return{}},components:{WriteFont:q}});function N(r,e,t,i,s,o){const n=E("WriteFont");return h(),L(n)}var _=g(V,[["render",N]]),j=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_});const H="modulepreload",w={},M="/",K=function(e,t){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=`${M}${i}`,i in w)return;w[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const n=document.createElement("link");if(n.rel=s?"stylesheet":H,s||(n.as="script",n.crossOrigin=""),n.href=i,document.head.appendChild(n),s)return new Promise((a,u)=>{n.addEventListener("load",a),n.addEventListener("error",u)})})).then(()=>e())},G=[{name:"Home",path:"/",component:()=>K(()=>Promise.resolve().then(function(){return j}),void 0)}],J=I({history:k(),routes:G});var Q=F({state:{},mutations:{},actions:{},modules:{},getters:{}});R(_).use(J).use(Q).mount("#app");
