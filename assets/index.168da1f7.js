var g=Object.defineProperty;var w=(e,t,o)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var l=(e,t,o)=>(w(e,typeof t!="symbol"?t+"":t,o),o);import{d,c as S,a as u,n as E,p as y,b as x,o as h,r as W,e as _,f as T,g as z,h as $,i as C}from"./vendor.92600367.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};I();const f=e=>{var s;let t=e==null?void 0:e.getBoundingClientRect(),o=((s=e==null?void 0:e.ownerDocument)==null?void 0:s.defaultView)||{pageXOffset:0,pageYOffset:0};return{left:((t==null?void 0:t.left)||0)+o.pageXOffset,top:((t==null?void 0:t.top)||0)+o.pageYOffset}};class O{constructor(t,o=3,s,n){l(this,"drawIng",!1);l(this,"timeout",-1);l(this,"x",[]);this.canvas=t,this.penSize=o,this.canvasSize=s,this.ctx=n,n||(n=t.getContext("2d"))}mousedownEvent(t){t.preventDefault();let o=this.canvas.getBoundingClientRect();this.StartWrite(t.clientX-o.left,t.clientY-o.top)}mousemoveEvent(t){t.preventDefault();let o=this.canvas.getBoundingClientRect();this.MoveWrite(t.clientX-o.left,t.clientY-o.top)}touchstartEvent(t){clearTimeout(this.timeout),t.preventDefault(),this.drawIng=!0;let o=t.targetTouches[0],s=f(this.canvas),n=o.pageX-s.left,c=o.pageY-s.top;this.ctx&&this.drawIng&&(this.ctx.beginPath(),this.ctx.moveTo(n,c))}touchmoveEvent(t){clearTimeout(this.timeout);let o=t.targetTouches[0],s=f(this.canvas),n=o.pageX-s.left,c=o.pageY-s.top;this.ctx&&this.drawIng&&(this.ctx.lineTo(n,c),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(n,c))}stopWriteEvent(){clearTimeout(this.timeout),this.drawIng=!1,this.timeout=window.setTimeout(()=>{this.clearCanvas()},2e3)}clearCanvas(){var t,o,s;(s=this.ctx)==null||s.clearRect(0,0,((t=this.canvas)==null?void 0:t.width)||0,((o=this.canvas)==null?void 0:o.height)||0)}finish(){}StartWrite(t,o){clearTimeout(this.timeout),this.drawIng=!0,this.ctx&&(this.ctx.lineWidth=this.penSize,this.ctx.beginPath(),this.ctx.moveTo(t,o))}MoveWrite(t,o){clearTimeout(this.timeout),this.ctx&&this.drawIng&&(this.ctx.lineWidth=this.penSize,this.ctx.lineTo(t,o),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,o))}}var v=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o};const b=d({name:"addFont",data(){return{configs:[{open:!0,info:"",value:null}],penSize:3,canvasSize:Math.min(window.innerWidth*.9,400),canvas:null,ctx:null,word:null}},methods:{init(){if(this.canvas){this.ctx=this.canvas.getContext("2d");let e=this.ctx,t=window.devicePixelRatio||1,o=this.canvas.getBoundingClientRect();this.word=new O(this.canvas,this.penSize,this.canvasSize,e),this.word.clearCanvas(),Object.assign(window,{Word:this.word}),e&&(this.canvasSize=Math.min(o.width*t,o.height*t),e.scale(t,t),e.lineCap="round",e.lineJoin="round",e.strokeStyle="black")}}},mounted(){this.canvas=this.$refs.canvas,this.init()},computed:{lang:function(){return localStorage.getItem("lang")}},watch:{canvasSize:function(e){this.word&&(this.word.canvasSize=this.canvasSize)},lang:function(e){console.log(e)}}}),k=e=>(y("data-v-276906e8"),e=e(),x(),e),P={class:"wroteFontDiv flex flex-down flex-item-center"},M=k(()=>u("div",{class:"tools flex flex-item-center flex-center"},[u("div",{class:"configs"})],-1)),R=["width","height"];function B(e,t,o,s,n,c){return h(),S("div",P,[M,u("canvas",{ref:"canvas",class:"writeFont",width:e.canvasSize,height:e.canvasSize,style:E({width:`${e.canvasSize}px`,height:`${e.canvasSize}px`}),onMousedown:t[0]||(t[0]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.mousedownEvent)&&((a=e.word)==null?void 0:a.mousedownEvent(...i))}),onMousemove:t[1]||(t[1]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.mousemoveEvent)&&((a=e.word)==null?void 0:a.mousemoveEvent(...i))}),onMouseup:t[2]||(t[2]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.stopWriteEvent)&&((a=e.word)==null?void 0:a.stopWriteEvent(...i))}),onMouseout:t[3]||(t[3]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.stopWriteEvent)&&((a=e.word)==null?void 0:a.stopWriteEvent(...i))}),onTouchstart:t[4]||(t[4]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.touchstartEvent)&&((a=e.word)==null?void 0:a.touchstartEvent(...i))}),onTouchmove:t[5]||(t[5]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.touchmoveEvent)&&((a=e.word)==null?void 0:a.touchmoveEvent(...i))}),onTouchend:t[6]||(t[6]=(...i)=>{var r,a;return((r=e.word)==null?void 0:r.stopWriteEvent)&&((a=e.word)==null?void 0:a.stopWriteEvent(...i))})},null,44,R)])}var L=v(b,[["render",B],["__scopeId","data-v-276906e8"]]);const F=d({name:"HelloWorld",data(){return{}},components:{WriteFont:L}});function A(e,t,o,s,n,c){const i=W("WriteFont");return h(),_(i)}var p=v(F,[["render",A]]),D=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p});const X="modulepreload",m={},Y="/make-font/",N=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${Y}${s}`,s in m)return;m[s]=!0;const n=s.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":X,n||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),n)return new Promise((r,a)=>{i.addEventListener("load",r),i.addEventListener("error",a)})})).then(()=>t())},j=[{name:"Home",path:"/",component:()=>N(()=>Promise.resolve().then(function(){return D}),void 0)}],H=T({history:z(),routes:j});var V=$({state:{},mutations:{},actions:{},modules:{},getters:{}});C(p).use(H).use(V).mount("#app");
